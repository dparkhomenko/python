__author__ = 'DParkhomenko'

import requests
import json


class DarkSkyWeather:
    url = 'https://api.darksky.net/forecast/{api_key}/{coordinator}'
    params = None
    api_key = 'f210178070911839dd264c60fab2dfcf'
    city_map = {'Odessa': '46.4736019,30.603976'}

    def set_api_key(self, api_key):
        self.api_key = api_key

    def set_params(self, params):
        if params == 'currently':
            self.params = {'exclude': 'minutely, hourly, daily'}
        elif params == 'minutely':
            self.params = {'exclude': 'currently, hourly, daily'}
        elif params == 'hourly':
            self.params = {'exclude': 'currently, minutely, daily'}
        elif params == 'daily':
            self.params = {'exclude': 'currently, minutely, daily'}

    #def url_formatting(self, city):
    #    self.url = self.url.format(api_key=self.api_key, coordinator=self.city_map.get(city))

    def response_content(self, city):
        self.url = self.url.format(api_key=self.api_key, coordinator=self.city_map.get(city))
        response = requests.get(self.url, params=self.params)
        response_content = json.loads(response.content)
        return str(response_content)
                                                                                                                                                                                                                                                                                                                             def set_params(self, params):                                                                                                                                                        if params == 'currently':                                                                                                                                                            self.params = {'exclude': 'minutely, hourly, daily'}                                                                                                                         elif params == 'minutely':                                                                                                                                                           self.params = {'exclude': 'currently, hourly, daily'}                                                                                                                        elif params == 'hourly':                                                                                                                                                             self.params = {'exclude': 'currently, minutely, daily'}                                                                                                                      elif params == 'daily':                                                                                                                                                              self.params = {'exclude': 'currently, minutely, daily'}                                                                                                                                                                                                                                                                                                   #def url_formatting(self, city):                                                                                                                                                 #    self.url = self.url.format(api_key=self.api_key, coordinator=self.city_map.get(city))                                                                                                                                                                                                                                                                        def response_content(self, city):                                                                                                                                                    self.url = self.url.format(api_key=self.api_key, coordinator=self.city_map.get(city))                                                                                            response = requests.get(self.url, params=self.params)                                                                                                                            response_content = json.loads(response.content)                   __author__ = 'DParkhomenko'                                                                                                                                                                                                                                                                                                                                       import requests                                                                                                                                                                  import json                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        class DarkSkyWeather:                                                                                                                                                                url = 'https://api.darksky.net/forecast/{api_key}/{coordinator}'                                                                                                                 params = None                                                                                                                                                                    api_key = 'f210178070911839dd264c60fab2dfcf'                                                                                                                                     city_map = {'Odessa': '46.4736019,30.603976'}                                                                                                                                                                                                                                                                                                                     def set_api_key(self, api_key):                                                                                                                                                      self.api_key = api_key                                                                                                                                                                                                                                                                                                                                        def set_params(self, params):                                                                                                                                                        if params == 'currently':                                                                                                                                                            self.params = {'exclude': 'minutely, hourly, daily'}                                                                                                                         elif params == 'minutely':                                                                                                                                                           self.params = {'exclude': 'currently, hourly, daily'}                                                                                                                        elif params == 'hourly':                                                                                                                                                             self.params = {'exclude': 'currently, minutely, daily'}                                                                                                                      elif params == 'daily':                                                                                                                                                              self.params = {'exclude': 'currently, minutely, daily'}                                                                                                                                                                                                                                                                                                   #def url_formatting(self, city):                                                                                                                                                 #    self.url = self.url.format(api_key=self.api_key, coordinator=self.city_map.get(city))                                                                                                                                                                                                                                                                        def response_content(self, city):                                                                                                                                                    self.url = self.url.format(api_key=self.api_key, coordinator=self.city_map.get(city))                                                                                            response = requests.get(self.url, params=self.params)                                                                                                                            response_content = json.loads(response.content)                                                                                                                                  return str(response_content)                                                                                                                return str(response_content) 
